<div class="row">
  <div class="col-12">
    <div class="card">      
      <div class="card-body">
        <div class="text-center">
          <div class="avatar p-50 bg-primary badge-glow">
            <div class="avatar-content">
              <i [data-feather]="'problem' | iconName" [size]="20"></i>
            </div>
          </div>
          <div class="font-medium-5 mt-1">
            {{ 'Problems' | translate }}
            <br>
            <div class="font-medium-4 mt-2">
              <span ngbTooltip="{{ 'Solved' | translate }}">
                <i data-feather="check-circle"></i>
                {{ userProblemsRating.solved }}
              </span>

              <span ngbTooltip="{{ 'Rating' | translate }}">
                <i [data-feather]="'rating' | iconName" class="ml-50"></i>
                {{ userProblemsRating.rating }}
              </span>
            </div>

            <div class="font-small-4 d-md-flex d-block justify-content-between">
              <div class="mt-2">
                {{ 'Beginner' | translate }}
                <br>
                <span class="text-{{ 1 | problemDifficultyColor }}">{{ userProblemsRating.beginner }}</span>
              </div>
              <div class="mt-2">
                {{ 'Basic' | translate }}
                <br>
                <span class="text-{{ 2 | problemDifficultyColor }}">{{ userProblemsRating.basic }}</span>
              </div>
              <div class="mt-2">
                {{ 'Normal' | translate }}
                <br>
                <span class="text-{{ 3 | problemDifficultyColor }}">{{ userProblemsRating.normal }}</span>
              </div>
              <div class="mt-2">
                {{ 'Medium' | translate }}
                <br>
                <span class="text-{{ 4 | problemDifficultyColor }}">{{ userProblemsRating.medium }}</span>
              </div>
              <div class="mt-2">
                {{ 'Advanced' | translate }}
                <br>
                <span class="text-{{ 5 | problemDifficultyColor }}">{{ userProblemsRating.advanced }}</span>
              </div>
              <div class="mt-2">
                {{ 'Hard' | translate }}
                <br>
                <span class="text-{{ 6 | problemDifficultyColor }}">{{ userProblemsRating.hard }}</span>
              </div>
              <div class="mt-2">
                {{ 'Extremal' | translate }}
                <br>
                <span class="text-{{ 7 | problemDifficultyColor }}">{{ userProblemsRating.extremal }}</span>
              </div>
            </div>

            <hr>

            <div class="">
              <div class="p-1 d-flex flex-sm-row flex-column justify-content-md-between align-items-start justify-content-start">
                <h5 class="card-title">{{ 'Activity' | translate }}</h5>
                <div
                  class="btn-group btn-group-toggle mt-md-0 mt-1"
                  ngbRadioGroup
                  name="radioBasic"
                  [(ngModel)]="activityDays"
                >
                <label class="btn btn-outline-primary" ngbButtonLabel rippleEffect>
                  <input (click)="activityDataUpdate(7)" type="radio" name="last_days_option" id="last_days_option_2" [value]="7" ngbButton />
                  <span>7</span>
                </label>
                <label class="btn btn-outline-primary" ngbButtonLabel rippleEffect>
                  <input (click)="activityDataUpdate(14)" type="radio" name="last_days_option" id="last_days_option_3" [value]="14" ngbButton />
                  <span>14</span>
                </label>
                <label class="btn btn-outline-primary" ngbButtonLabel rippleEffect>
                  <input (click)="activityDataUpdate(30)" type="radio" name="last_days_option" id="last_days_option_4" [value]="30" ngbButton />
                  <span>30</span>
                </label>
              </div>
              </div>
              <div class="">
                <div class="row">
                  <div class="col-6">
                    <div class="mt-3">
                      <div class="text-center">
                        <div class="avatar bg-primary p-50 m-0 mb-1">
                          <div class="avatar-content">
                            <i data-feather="check-circle" class="font-medium-3"></i>
                          </div>
                        </div>
                        <h2 class="text-dark">{{ activitySolved }}</h2>
                        <p class="font-medium-1 mb-0">{{ 'Problems' | translate }}</p>
                      </div>            
                    </div>
                  </div>
  
                  <div class="col-6 mt-2">
                    <apx-chart *ngIf="activityChart"
                      [chart]="activityChart.chart"
                      [colors]="activityChart.colors"
                      [series]="activityChart.series"
                      [yaxis]="activityChart.yaxis"
                      [plotOptions]="activityChart.plotOptions"
                      [tooltip]="activityChart.tooltip"
                      [grid]="activityChart.grid"
                      [theme]="chartTheme"
                    ></apx-chart>
                  </div>
                </div>
                <hr />
              </div>
            </div> 

          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="card-body">
        <div class="text-center">
          <div class="avatar p-50 bg-primary badge-glow">
            <div class="avatar-content">
              <i [data-feather]="'flag'" [size]="20"></i>
            </div>
          </div>
          <br>
          <div class="font-medium-5 mt-1">
            {{ 'Contests' | translate }}
          </div>
        </div>

        <div class="text-center font-medium-1 mt-1">
          <i [data-feather]="'rating' | iconName"></i>
          {{ 'Rating' | translate }}:
          <span class="ml-50 badge badge-light-{{ userContestsRating.rating | contestsRatingColor }}">
            {{ userContestsRating.rating }}
          </span>
          <contests-rating-image [size]="24" [title]="userContestsRating.ratingTitle"></contests-rating-image>
        </div>

        <div class="text-center font-medium-1 mt-50">
          <i [data-feather]="'rating' | iconName"></i>
          {{ 'MaxRating' | translate }}:
          <span class="ml-50 badge badge-light-{{ userContestsRating.maxRating | contestsRatingColor }}">
            {{ userContestsRating.maxRating }}
          </span>
          <contests-rating-image [size]="24" [title]="userContestsRating.maxRatingTitle"></contests-rating-image>
        </div>

        <div class="text-center font-medium-1 mt-50">
          <i [data-feather]="'flag'"></i>
          {{ 'Contests' | translate }}:
          <span class="ml-50 badge badge-light-primary">
            {{ userContestsRating.contestantsCount }}
          </span>
        </div>

        <div>
          <apx-chart *ngIf="contestRatingChangesChart && contestRatingChangesChart.series[0].data.length > 0"
            [chart]="contestRatingChangesChart.chart"
            [colors]="contestRatingChangesChart.colors"
            [series]="contestRatingChangesChart.series"
            [xaxis]="contestRatingChangesChart.xaxis"
            [yaxis]="contestRatingChangesChart.yaxis"
            [fill]="contestRatingChangesChart.fill"
            [tooltip]="contestRatingChangesChart.tooltip"
            [theme]="chartTheme"
          ></apx-chart>
        </div>

      </div>
    </div>

    <div class="card">
      <div class="card-body">
        <div class="text-center">
          <div class="avatar p-50 bg-primary badge-glow">
            <div class="avatar-content">
              <i [data-feather]="'zap'" [size]="20"></i>
            </div>
          </div>
          <br>
          <div class="font-medium-5 mt-1">
            {{ 'Challenges' | translate }}
          </div>
        </div>

        <div class="text-center mt-1">
          <div class="text-{{ userChallengesRating.rankTitle | challengesRankColor }}">
            <span class="badge badge-pill badge-glow badge-{{ userChallengesRating.rankTitle | challengesRankColor }}">
              {{ userChallengesRating.rankTitle }}
            </span>
        
            <span class="badge badge-light-{{ userChallengesRating.rankTitle | challengesRankColor }}">
              {{ userChallengesRating.rating }}
            </span>
          </div>

          <div class="font-medium-4 mt-1">
            <span class="text-success font-medium-2" ngbTooltip="{{ 'Wins' | translate }}">W</span>
            {{ userChallengesRating.wins }}

            <span class="ml-50 text-secondary font-medium-2" ngbTooltip="{{ 'Draws' | translate }}">D</span>
            {{ userChallengesRating.draws }}
            
            <span class="ml-50 text-danger font-medium-2" ngbTooltip="{{ 'Losses' | translate }}">L</span>
            {{ userChallengesRating.losses }}
          </div>
        </div>

        <div class="mt-1">
          <apx-chart *ngIf="challengesRatingChangesChart && challengesRatingChangesChart.series[0].data.length > 0"
            [chart]="challengesRatingChangesChart.chart"
            [colors]="challengesRatingChangesChart.colors"
            [series]="challengesRatingChangesChart.series"
            [xaxis]="challengesRatingChangesChart.xaxis"
            [yaxis]="challengesRatingChangesChart.yaxis"
            [fill]="challengesRatingChangesChart.fill"
            [tooltip]="challengesRatingChangesChart.tooltip"
            [theme]="chartTheme"
          ></apx-chart>
        </div>
      </div>
    </div>
  </div>
</div>
